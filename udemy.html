<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="C:/Users/ASUS/Desktop/Desktop/bld.ai internship/Project1/bootstrap/js/bootstrap.js"></script>
        <link href="C:/Users/ASUS/Desktop/Desktop/bld.ai internship/Project1/bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css" media="all">
        <script src="https://kit.fontawesome.com/a791d2f5a2.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <nav class="nav" style="height: 35px; position: sticky; top:0px; z-index: 10; background-color: white;">
            <span id="bar"><i class="fa fa-bars fa-2x"></i></span>
            <img class="logo" style="max-height: 100%; display: inline; padding-top: -10px !important;" src="images/udemylogo.png" alt="Udemy Logo">
            <span>Categories</span>
            <form onkeyup="searchFunction(event)" id="form" style="display: inline;" action="#" method="post">
                <span id="search"><i style="position: absolute; padding-top: 19px; padding-left: 15px;" class="fa fa-search"></i></span>
                <input id="input-field" class="input-field" style="width: 50%;" type="text" placeholder="Search for anything">
                <button class="submit" type="submit">Search</button>
            </form>
            <span>Udemy Business</span>
            <span>Teach on Udemy</span>
            <button class="login" type="button">Log In</button>
            <button class="signup" type="button">Sign Up</button>
        </nav>
        <header class="flex-container">
            <article class="article">
                <h1>New to Udemy? Lucky you.</h1>
                <p>Courses start at E&#xa3;169.99. Get your new-student offer before it expires.</p>
            </article>
            <img id="alarm" src="images/alarm4.png" alt="Alarm Clock">
        </header>
        <section>
            <h2 style="font-size: 38px;">A broad selection of courses</h2>
            <p style="font-size: 20px">Choose from 185,000 online video courses with new additions published every month</p>
            
            <span><a href="#">Python</a></span>
            <span><a href="#">Excel</a></span>
            <span><a href="#">Web Development</a></span>
            <span><a href="#">JavaScript</a></span>
            <span><a href="#">Data Science</a></span>
            <span><a href="#">AWS Certification</a></span>
            <span><a href="#">Drawing</a></span>
            <article id="article">
                <h2>Expand your career opportunities with Python</h2>
                <p>Take one of Udemy's range of Python courses and learn how to code using this incredibly useful language.
                    Its simple syntax and readability makes Python perfect for Flask, Django, data science, and machine learning. 
                    You'll learn how to build everything from games to sites to apps. Choose from a range of courses that will appeal to...
                </p>
                <button id="python" type="button">Explore Python</button>
                <br>
            </article>
        </section>
        <div class="container">
            <div class="row">
                <h3>Top categories</h3>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <figure><img src="images/design.png" alt="design"></figure>
            <figcaption><strong>Design</strong></figcaption>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <figure><img src="images/development.png" alt="development"></figure>
            <figcaption><strong>Development</strong></figcaption>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <figure><img src="images/marketing.png" alt="marketing"></figure>
                <figcaption><strong>Marketing</strong></figcaption>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <figure><img src="images/it.png" alt="it"></figure>
            <figcaption><strong>IT and Software</strong></figcaption>
            </div>
            
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-4 col-sm-6">
                <figure><img src="images/personal.png" alt="personal"></figure>
            <figcaption><strong>Personal Development</strong></figcaption>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                <figure><img src="images/business.png" alt="business"></figure>
            <figcaption><strong>Business</strong></figcaption>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                
            <figure><img src="images/photography.png" alt="photography"></figure>
            <figcaption><strong>Photography</strong></figcaption>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6">
                
            <figure><img src="images/music.png" alt="music"></figure>
            <figcaption><strong>Music</strong></figcaption>
            </div>
            
        </div>
        </div>
            
        
    </body>
    <script>
        async function fetchCourses(){
            let courses = await fetch("http://localhost:3000/courses")
                    .then(res => res.json())
                    .then(json => json)
                    .catch (err => console.log(err));
            console.log(courses);
            let article = document.querySelector('#article');
            for(let i=0;i<5;i++){
                let responsive = document.createElement('div');
                responsive.className = 'responsive';
                let gallery = document.createElement('div');
                gallery.className = 'gallery';
                let img = document.createElement('img');
                img.src = courses[i].image;
                img.alt = `Python${i+1}`;
                img.width = 480;
                img.height = 320;
                let div = document.createElement('div');
                div.className = 'desc';
                div.innerHTML += `<p class="title">${courses[i].title}</p>`;
                div.innerHTML += `<p>${courses[i].author}<p>`;
                div.innerHTML += `<p>
                                <span class="orange">${courses[i].rating}</span>
                                <i class="fa fa-star checked"></i>
                                <i class="fa fa-star checked"></i>
                                <i class="fa fa-star checked"></i>
                                <i class="fa fa-star checked"></i>
                                <i class="fa fa-star"></i>
                                <span class="brackets">(${courses[i].reviews})</span>
                            </p>`;
                div.innerHTML += `<p>E&#xa3;${courses[i].price} <del>E&#xa3;${courses[i].previous}</del></p>`;
                gallery.appendChild(img);
                gallery.appendChild(div);
                responsive.appendChild(gallery);
                article.appendChild(responsive);
            }
            let clearfix = document.createElement('div');
            clearfix.className = 'clearfix';
            article.appendChild(clearfix);
        }

        window.addEventListener('load', fetchCourses);

        function searchFunction(event){
            event.preventDefault();
            let inputField = form.elements['input-field'];
            let value = inputField.value.toUpperCase();
            let responsive = document.querySelector('.responsive');
            while(responsive.nextElementSibling){
                let title = responsive.querySelector('.title');
                let textValue = title.innerHTML;
                if(textValue.toUpperCase().indexOf(value)>-1){
                    responsive.style.display = "";
                } else {
                    responsive.style.display = "none";
                }                
                responsive = responsive.nextElementSibling;
            }
        }
    </script>
</html>